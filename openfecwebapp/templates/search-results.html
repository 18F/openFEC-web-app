{% extends "layouts/main.html" %}
{% import 'macros/search.html' as search %}
{% import 'macros/page-header.html' as header %}

{% block title %}
    Search results for &ldquo;{{query}}&rdquo;
{% endblock %}

{% block body %}
{{ header.header(title, show_search=True) }}

<div class="main">
  <div class="container">
    <div class="sidebar-container sidebar-container--left">
      <nav class="sidebar sidebar--neutral side-nav js-sticky-side" data-sticky-container="main">
        <ul class="sidebar__content">
          <li class="side-nav__item">
              <a class="side-nav__link" href="#candidates">Candidates</a>
          </li>
          <li class="side-nav__item">
              <a class="side-nav__link" href="#committees">Committees</a>
          </li>
          <li class="side-nav__item">
              <a class="side-nav__link" href="#contributions">Contributions</a>
          </li>
        </ul>
      </nav>
    </div>
    <section class="main__content--right">
      <header>
        <h1>Results for "{{ query }}"</h1>
      </header>
        {% if results %}
        <div class="content__section" id="candidates">
          <h2>Candidates</h2>
          {% with candidates=results['candidates'] %}
            {% for candidate in candidates %}
                {% include 'partials/search-results-candidate.html' %}
            {% endfor %}
          {% endwith %}
        </div>
        <div class="content__section" id="committees">
          <h2>Committees</h2>
          {% with committees=results['committees'] %}
            {% for committee in committees %}
              {% include 'partials/search-results-committee.html' %}
            {% endfor %}
          {% endwith %}
        </div>
        <div class="content__section" id="contributions">
          <h2>Contributions</h2>
          {% with contributions=results['contributions'] %}
            <ul class="list--bulleted">
            {% for contribution in contributions %}
              <li>{{contribution['contributor_name']}}</li>
            {% endfor %}
            </ul>
          {% endwith %}
        </div>
    {% endif %}
        </section>
    </div>
</div>

{% endblock %}
