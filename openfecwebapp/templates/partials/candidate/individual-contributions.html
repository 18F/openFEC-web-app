{% import 'macros/missing.html' as missing %}
{% import 'macros/null.html' as null %}
{% import 'macros/cycle-select.html' as select %}

<section id="section-4" role="tabpanel" aria-hidden="true" aria-labelledby="section-1-heading">
  <div class="heading--section">
    <h2>Individual Contributions</h2>
  </div>

  <div class="content__section">
    {{ select.cycle_select(election_years, cycle, duration=duration, id="cycle-1") }}
  </div>

  <span class="t-sans t-bold">Data is included from these committees:</span>
  <ul class="list--bulleted">
    {% for committee in committee_groups['P'] | reverse %}
    <li>
      <a class="t-sans" href="{{ url_for('committee_page', c_id=committee.committee_id, cycle=cycle) }}">{{ committee.name }}</a>
    </li>
    {% endfor %}
  </ul>
  <div class="content__section">
    <div class="results-info results-info--simple">
      <h3>Individual contributions by transaction</h3>
      <ul class="u-float-left">
        <li class="tag__category">
          <div class="tag__item">Report year: {{cycle - 1}} to {{cycle}}</div>
        </li>
      </ul>
      <button type="button" class="js-export button button--cta button--export" data-export-for="individual-contributions">Export</button>
    </div>
    <table
        class="data-table data-table--heading-borders"
        data-type="individual-contributions"
        data-committee-id="{% for c in committee_groups['P'] | reverse %}{{ c.committee_id }}{% if not loop.last %},{% endif %}{% endfor %}"
        data-name="{{ name }}"
        data-cycle="{{ cycle }}"
      >
      <thead>
        <tr>
          <th scope="col">Contributor name</th>
          <th scope="col">Recipient</th>
          <th scope="col">Receipt date</th>
          <th scope="col">Amount</th>
        </tr>
      </thead>
    </table>
  </div>

</section>
