{% extends 'layouts/main.html' %}

{% import 'macros/filters/text.html' as text %}
{% import 'macros/filters/states.html' as states %}

{% block title %}
  Browse Expenditures
{% endblock %}

{% block body %}

<header class="page-header page-header--dark">
  <h1><img width="32" height="32" class="category-icon" src="/static/img/icon-committee--white.svg" alt="Icon representing committees"> Expenditures</h1>
</header>

<section class="results-content">
  <button id="filter-toggle" data-slide="left"><i class="ti-plus"></i>Show Filters</button>
  <div id="filters" class="side-panel side-panel--left">
    <h4>Filter Expenditures</h4>
    <form id="category-filters">

      {{ text.field('recipient_name', 'Name') }}
      {{ text.field('recipient_city', 'City') }}

      {{ states.field('recipient_state') }}

      {{ text.field('min_amount', 'Minimum Expenditure') }}
      {{ text.field('max_amount', 'Maximum Expenditure') }}

      {{ text.field('min_date', 'Start Date', {'data-inputmask': '"alias": "mm/dd/yyyy"'}) }}
      {{ text.field('max_date', 'End Date', {'data-inputmask': '"alias": "mm/dd/yyyy"'}) }}

      <div class="field">
        <button type="submit" class="primary">Apply filters</button>
      </div>

    </form>
  </div>
  <div id="committees" class="results-container">
    {% include 'partials/expenditures-table.html' %}
  </div>
</section>

<div id="datatable-modal" class="modal__overlay" aria-hidden="true">
  <div class="modal">
    <div class="modal__row">
      <button title="Close menu" class="js-hide modal__close" data-hides="datatable-modal"><i class="ti-close"></i></button>
    </div>
    <div class="modal__row">
      <h3>Expenditure Detail</h3>
      <nav class="modal__nav">
        <div class="modal__content">
          <table>
            <tr>
              <td></td>
            </tr>
          </table>
        </div>
      </nav>
    </div>
  </div>
</div>

{% endblock %}
