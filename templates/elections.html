{% extends 'layouts/main.html' %}

{% block title %}
  Browse Donations
{% endblock %}

{% block body %}
<div class="entity election tab-interface">
  <header class="page-header entity__header page-header--dark">
    <div class="container">
      <div class="entity__header--top row">
        {% if office == 'president' %}
          <h1 class="entity__name">Presidential Election</h1>
        {% else %}
          <h1 class="entity__name">{{ office|title }} Election: {{ state|fmt_state_full }}</h1>
          {% if district %}
            <h2>House District {{ district }}</h2>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </header>
  <div class="page-controls page-controls--dark sticky">
    <div class="container">
       <nav class="page-tabs">
          <ul role="tablist">
            <li role="presentation" class="page-tabs__item"><a role="tab" tabindex="0" aria-controls="panel1" aria-selected="true" href="#section-1">Candidate Comparison</a></li>
            <li role="presentation" class="page-tabs__item"><a role="tab" tabindex="-1" aria-controls="panel2" href="#section-2">Outside Spending</a></li>
          </ul>
      </nav>
    </div>
  </div>
  <section class="page-section" aria-labelledby="section-1-heading">
    <div class="container">
      <h2 id="section-1-heading">Candidate Comparison {% include 'partials/cycle-select.html' %}</h2>
      <div class="page-subsection">
        <h4>Active Candidates</h4>
        <p>Totals reflect the sum total reported by all of a candidate's authorized committees.</p>
        <table id="results" class="data-table" data-type="candidates">
          <thead>
            <th role="col">Candidate</th>
            <th role="col">Status</th>
            <th role="col">Total Receipts</th>
            <th role="col">Total Disbursements</th>
            <th role="col">Cash on Hand</th>
            <th role="col">Most Recent Report</th>
          </thead>
        </table>
      </div>
      <div class="page-subsection">
        <div class="page-section__intro">
          <h3>Fundraising Comparison</h3>
          <p>Compare the source and nature of candidate receipts.</p>
          <div id="comparison" class="meta-box filters--horizontal"></div>
          <div class="toggles">
            <span class="label">Compare by:</span>
            <label for="toggle-size">
              <input id="toggle-size" type="radio" class="panel-toggle-control" name="election-aggregate" value="by-size" checked>
              <span class="toggle-button">Contribution Size</span>
            </label>
            <label for="toggle-state">
              <input id="toggle-state" type="radio" class="panel-toggle-control" name="election-aggregate" value="by-state">
              <span class="toggle-button">Contribution Location</span>
            </label>
            <label for="toggle-contributor-type">
              <input id="toggle-contributor-type" type="radio" class="panel-toggle-control" name="election-aggregate" value="by-contributor-type">
              <span class="toggle-button">Contributor Type</span>
            </label>
          </div>
        </div>

        <div class="row">
          <div id="by-size" class="panel-toggle-element" aria-hidden="false">
            <h4>Receipts by size</h4>
            <table class="data-table" data-type="by-size">
              <thead>
                <th scope="col">Candidate</th>
                <th scope="col">$200 & Under</th>
                <th scope="col">$200.01 - $499.99</th>
                <th scope="col">$500 - $999.99</th>
                <th scope="col">$1,000 - $1,999.99</th>
                <th scope="col">$2,000 +</th>
              </thead>
            </table>
          </div>
        </div>

        <div class="row">
          <div id="by-state" class="panel-toggle-element" aria-hidden="true">
            <div class="figure__title">
              <h4>Receipts by state</h4>
              <div class="toggles toggles--small">
                <label for="toggle-table">
                  <input id="toggle-table" type="radio" class="panel-toggle-control" name="state-view" value="state-table" checked>
                  <span class="toggle-button">Table</span>
                </label>
                <label for="toggle-map">
                  <input id="toggle-map" type="radio" class="panel-toggle-control" name="state-view" value="state-maps">
                  <span class="toggle-button">Map</span>
                </label>
              </div>
            </div>
            <div id="state-table">
              <table class="data-table panel-toggle-element" data-type="by-state" aria-hidden="false">
                <thead></thead>
              </table>
            </div>
            <div id="state-maps" class="panel-toggle-element" aria-hidden="true'">
              <button class="add-map">Add</button>
              <div class="legend"><svg></svg></div>
              <div class="choropleths row"></div>
            </div>
          </div>
        </div>

        <div class="row">
          <div id="by-contributor-type" class="panel-toggle-element" aria-hidden="true">
            <h4>Receipts by type of contributor</h4>
            <table class="data-table" data-type="by-type">
              <thead>
                <th scope="col">Candidate</th>
                <th scope="col">Individual</th>
                <th scope="col">Committee</th>
              </thead>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
{% endblock %}

{% block scripts %}
<script src="/{{ assets['dist/js/pages/elections.js'] }}"></script>
<script>
var context = {
  election: {
    cycle: {{ cycle }},
    office: '{{ office }}',
    state: '{{ state or '' }}',
    district: '{{ district or '' }}'
  }
};
</script>
{% endblock %}
