{% extends 'layouts/main.html' %}

{% block title %}
  Browse Donations
{% endblock %}

{% block body %}
<div class="tab-interface">
  <header class="page-header slab slab--primary">
    <h1 class="page-header__title">Elections</h1>
    {{ search.search('page-header', 'candidates') }}
  </header>
  <header class="page-header entity__header page-header--dark">
    <div class="container">
      <div class="entity__header--top row">
        {% if office == 'president' %}
          <h1 class="entity__name">{{ cycle }} Presidential Election</h1>
        {% else %}
          <h1 class="entity__name">{{ cycle }} {{ office|title }} Election: {{ state|fmt_state_full }}</h1>
          {% if district %}
            <h2>United States House District {{ district }}</h2>
          {% endif %}
        {% endif %}
      </div>
      {% if state %}
      <div id="election-map" aria-hidden="true" style="height: 300px;"></div>
      {% endif %}
    </div>
  </header>

  <div class="page-controls page-controls--primary">
    <div class="page-controls__top">
      <div class="container">
        <span class="page-controls__title">{{ cycle }} Election - United States {{ office|title }} {% if state %} - {{ state|fmt_state_full }} {% if district %} - District {{ district }} {% endif %} {% endif %} </span>
      </div>
    </div>
    <div class="page-controls__bottom">
      <div class="container">
        <nav class="page-tabs">
          <ul class="list--flat" role="tablist" data-name="tab">
            <li role="presentation" class="page-tabs__item"><a role="tab" data-name="comparison" tabindex="0" aria-controls="panel1" aria-selected="true" href="#section-1">Candidate Comparison</a></li>
            <li role="presentation" class="page-tabs__item"><a role="tab" data-name="spending" tabindex="-1" aria-controls="panel2" href="#section-2">Outside Spending</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </div>

  {% include 'partials/elections/candidate-comparison-tab.html' %}
  {% include 'partials/elections/outside-spending-tab.html' %}
</div>
{% endblock %}

{% block scripts %}
<script src="/{{ assets['dist/js/pages/elections.js'] }}"></script>
<script>
var context = {
  election: {
    cycle: {{ cycle }},
    office: '{{ office }}',
    state: '{{ state or '' }}',
    stateFull: '{{ state_full or '' }}',
    district: '{{ district or '' }}'
  }
};
</script>
{% endblock %}
