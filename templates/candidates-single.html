{% extends 'layouts/main.html' %}

{% block title %}
    {{ name }} - Candidate Overview
{% endblock %}

{% block body %}

<div class="tab-interface">
  <header class="page-header slab slab--primary">
    <img class="page-header__icon" src="/static/img/i-candidate--primary.svg" alt="Candidate icon">
    <span class="h1 page-header__title">Candidates</span>
    {{ search.search('page-header', 'candidates') }}
  </header>  
  <header class="entity__header entity__header--neutral">
    <div class="container">
      <div class="entity__header__top">
        <h1 class="entity__name">{{ name }}</h1>
        <span class="t-data entity__type">Candidate for {{ office_full }}</span><span class="t-data">ID: {{ candidate_id }}</span>
      </div>
      <div class="entity__header__bottom">
        <ul class="entity__info">
          <li class="entity__term">
            <span class="entity__term__label"><a class="term" data-term="Party">Party</a></span>
            <span class="entity__term__data">{{ party_full }}</span>
          </li>
          <li class="entity__term">
            <span class="entity__term__label"><a class="term" data-term="Status">Status</a></span>
            <span class="entity__term__data">{% if incumbent_challenge_full %}{{ incumbent_challenge_full|title }}{% endif %}</span>
          </li>
          <li class="entity__term">
            <span class="entity__term__label">District</span>
            <span class="entity__term__data">
              {% if district %}
              <a href="{{ election_url(context(), cycle) }}">{{ state }} - {{ district }}</a>
              {% else %}
              <a href="{{ election_url(context(), cycle) }}">{{ state }}</a>
              {% endif %}
            </span>
          </li>
          <li class="entity__term">
            <span class="entity__term__label">
              <a class="term" data-term="Principal Campaign Committee">Principal Committee</a>
            </span>
            {% for c in committee_groups['P'] %}
            <p class="entity__term__data">
              <a href="{{ url_for('committee_page', c_id=c.committee_id, cycle=cycle) }}">{{ c.name }}</a>
            </span>
            {% endfor %}
          </li>
          <li class="entity__term">
            <span class="entity__term__label">Elections</span>
            <ul class="entity__term__data">
            {% for year in election_years %}
              <a href="{{ election_url(context(), year) }}">{{ year }}</a>{% if loop.last == false %},{% endif %}
            {% endfor %}
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </header>
  <div class="page-controls page-controls--neutral">
    <div class="page-controls__top">
      <div class="container">
        <span class="page-controls__title">{{ name }}</span>
      </div>
    </div>
  </div>

  <section class="main" id="section-1" role="tabpanel" aria-hidden="false" aria-labelledby="section-1-heading">
    <div class="container">
      {% include 'partials/financial-summary.html' %}
      {% include 'partials/filings-tab-candidate.html' %}
    </div>
  </section>
</div>

{% endblock %}

{% block scripts %}
<script src="/{{ assets['dist/js/pages/candidate-single.js'] }}"></script>
{% endblock %}
